<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Horizon application store</title>
    <link rel="stylesheet" href="./assets/css/styles.css"/>
<head>
<body>
<div id="app-container"></div>
<script>
    window.libertyRender = 'gl';
</script>
<script>
    window.addEventListener('message', receiveMessage, false);

    function receiveMessage(event) {
        var data = JSON.parse(event.data);
        var type = data.type;
        var message = data.message;

        if (type === 'key') {
            dispatchKeyEvent(message);
        }
    }

    function dispatchKeyEvent(event) {
        var targetElement = document.activeElement || document.body || window;
        var keyEvent = document.createEvent('Event');

        keyEvent.initEvent(event.type, true, true);
        keyEvent.keyCode = event.keyCode;
        keyEvent.which = event.keyCode;
        keyEvent.shiftKey = false;
        keyEvent.altKey = false;
        keyEvent.ctrlKey = false;

        targetElement.dispatchEvent(keyEvent);
    }
</script>
<script src="./build/app.js"></script>
</body>
</html>
